<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Author" content="Craigy (grinder@uic.tula.ru)" />
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=windows-1251" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" />
<title>Система футбольной статистики (v3.0)</title>
<style type="text/css" media="screen">
html,body{height:100%;}body{position:relative;background:#f3f3f3;color:#333;font:11px Arial,Verdana,Helvetica,sans-serif;line-height:130%;}*{padding:0;margin:0;}a,.blue{color:#436976;}a img,table{border:0;}a:focus{outline:none;}.z{border-spacing:0;border-collapse:collapse;}.z td{padding:0;}.bb{font-weight:bold;}.m3{margin-bottom:3px;}.m5{margin-bottom:5px;}.m10{margin-bottom:10px;}.m15{margin-bottom:15px;}.m20{margin-bottom:20px;}.m25{margin-bottom:25px;}.m30{margin-bottom:30px;}.m35{margin-bottom:35px;}.s10{font-size:10px;line-height:120%;}.s11{font-size:11px;line-height:120%;}.s12{font-size:12px;line-height:120%;}.s13{font-size:13px;line-height:120%;}.s14{font-size:14px;line-height:120%;}.s15{font-size:15px;line-height:120%;}h1{font-size:24px;line-height:120%;color:#434a4d;margin:0 0 3px 0;white-space:nowrap;}h2,h2 a{clear:both;font-size:18px;line-height:120%;color:#07a2e4;margin-top:10px;padding:2px 0 12px 15px;border-bottom:2px solid #ccc;}h3{font-size:15px;line-height:120%;color:#000;padding:0 0 5px 23px;margin:0 5px 20px 0;background:url('data:image/gif;base64,R0lGODlhEAAPAMQAAP/abP/QYvTAWsHBweSxTbGxsd2pRaWlpXGu25+fn8+TJpeXl2egxcyRJGCZwV6Ts1mTvbqCHFKPvleNsIODg1CHrEqGtbB0DUmBqEN/sTx3qTt4rTRunGRkZC1nmP///yH5BAUUAB8ALAAAAAAQAA8AAAVw4CcmxUJR4vdMVfodw1J06cq4sEyn0y1yidhMEUlVHJAPx5PQEQiGYgUDQUg0mg+FFgkICBEqwpLZuEQNwDcyPp8VarDbNYWv3atp1S6v9ZBtfEUiPR9VFil2BhciLSISGS4KAQpuHFhnjGdLZnMiIQA7') no-repeat 0 1px;border-bottom:1px solid #ccc;}#tt h3{color:#2e5b89;padding:0;margin:10px 0;background:none;border:0;}#popup h3{background:url('data:image/gif;base64,R0lGODlhEAAQANX/ACkplDExlDExnDk5nDk5pUJCnEpKnEpKpUpSrUpStVJSpVJSrVJStVpSrVparVpatVpavVpaxmNjzmtrznNztXN7vXt7nISEnISErYSEtYSExoyMrYyMtYyUxpSUrZSUxpycpZyctZyc1qWlvaWl1qWt1q2tzq2t1q2t3rW1zrW11r29zr293sbG58bOxsbOzs7Ozs7O587W59bW1tbW3tbW797e3t7e5+/v7+/v9+/39/f39/f3//f//8DAwP///yH5BAEAAD4ALAAAAAAQABAAQAarQJ8PkZrBjkjYzHQQVhgPDelUOpFIVZFk4askajiabTym4ViRRlcieWAGgxXu1wIEII7uFzfr+2dnaXo1PDmGhzk7aGoVbBAdHxkbIy0oBAQReY0TDxcjMTw9OykAApl6MoWIhjyLgzo3sbI3gYx7f361XQgxOzo7wMGKgo1sxhIREcYTjGwPHAYBIDN0dnhrbRYFFDc8PyoBAtc+DgsHHi4vLy4uIQUFCj5BADs=') no-repeat 0 1px;}label{padding-left:5px;cursor:pointer;}.left{float:left;margin:0 15px 5px 0;}.right{float:right;margin:0 0 5px 15px;}input,.btn,select,textarea{font-size:11px;background:#fff;border:1px solid #ccc;padding:3px 5px;color:#333;}#popup textarea{width:670px;height:110px;padding:3px 0;background:#f3f3f3;border:0;}input,img.chk{padding:4px 5px;}input[type="checkbox"],select{padding:0;}input[disabled],.grey{color:#999;}.btn{background:url('data:image/gif;base64,R0lGODlhAQAVALMAAP////39/fj4+PPz8+7u7ujp6eTj497f39nZ2dXV1M/PzszMzAAAAAAAAAAAAAAAACH5BAQUAP8ALAAAAAABABUAAAQLEMhJgRikmIOSWhEAOw==') repeat-x 0 100% #f3f3f3;padding:4px 5px 4px 5px;cursor:pointer;}.btn input{padding:0;border:0;background:none;cursor:pointer;}a.btn{text-decoration:none;}.chk{background:none;border:0;}.shl{color:#436976;font-weight:bold;font-style:italic;}ol{padding:0px;margin:10px 0 25px 0;}ol li{margin:0 0 10px 15px;list-style-position:outside;list-style-type:decimal;}.red,.red a{color:#8c0100;}.hr{font-size:1px;line-height:1px;height:1px;border-bottom:1px dotted #ccc;}#container{min-width:1008px;min-height:100%;overflow:hidden;}#header{position:relative;min-height:85px;background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAsCAYAAACkJ9JhAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK8AAACvABQqw0mAAAACV0RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgTVggMjAwNId2rM8AAAAtSURBVHicY/j27dt/JgYGBgYI8f//fwYkLjYxNO6/f/+IUozfFJzqiDUei5sBj+4uCG99pbUAAAAASUVORK5CYII=') repeat-x 0 100% #f6f6f6;border-bottom:2px solid #ccc;padding:10px 0 0 15px;}#body,#popup{background:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAYAAADtlXTHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK8AAACvABQqw0mAAAACV0RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgTVggMjAwNId2rM8AAAAwSURBVHicY7h69ep/Jn5+fgYmBgYGKMHIyIjMQnCxyTIwMDAwMTExYdeB0yi8hgIAOYUEE8wmb3AAAAAASUVORK5CYII=') repeat-x 0 0 #f3f3f3;}#first_start{padding:30px 15px;}#menu{float:left;width:315px;background:url('data:image/gif;base64,R0lGODlhBQAFAKIAAPz8/Ozs7Onp6efn5+bm5uTk5MzMzAAAACH5BAQUAP8ALAAAAAAFAAUAAAMNaBFgJkA4MIYj2JVtEgA7') repeat-y 100% 0;padding:20px 0 32767px 15px;margin-bottom:-32767px;}#content{margin-left:330px;padding:15px 0 0 30px;}#popup{border:3px solid #999;position:fixed;z-index:9999;width:680px;height:280px;padding:10px;}.text{float:left;width:450px;}.console{margin-left:450px;padding:5px 10px 0 0;}#mmnu{position:absolute;bottom:0;right:0;}#mmnu li{background:url('data:image/gif;base64,R0lGODlh9AE2ANUAAPf39/T3+fPz8/Hx8fHy8vDw8PDx8u/w8e/v7+7w8e3w8O3t7ent7unt7+rt7+rq6uTq7Ofn5+Xl5eDn6t3m6eDg4N/f39Lg5d3d3dPg5c7e49ra2tnZ2cra4NfX18na4NXV1cfY38bY3tTU1NPT09LS0sPW3cDV3MHV3L/U273T2s7Ozs3NzczMzLjP2LXO1rTN1rXN1gei5P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEHADMALAAAAAD0ATYAAAb/wJlwBrCAWsikcslsOp/QqHRKrVqv2Kx2y+16v+CweEzejiyAodrC4kQGgrh8Tq/b7/i8fs/v+/+AgYKDhIWGh4iJiouMjYIFER4sFmozICALjpqbnJ2en6ChoqOkpXgLl0MWJAimrq+wsbKztLW2dgUlFUQrmbe/wMHCw8TFmwsrABgbckhxzgLQxtPU1dbX2IkcGCAPzS3P4NHi2eXm5+jptRJHcOrv8PHy840L0vT4+fr78ywsc9Du8RtIsKBBU/cCkjvIsKHDh4MEQpxIsaLFbxczatxIMOFCjiBDijTmcaTJkyhnSUzJsqVLTitfypxJE1DMmjhz6ryps6dP/5Y8fwodujEo0aNIHRpNyrSpvqVOo0pNB3Wq1avUqmLdyvWW1q5gwyL8KLas2Vct1AS4gAKG27dw48qdS7eu3bt48+rdy7ev37+AAwseTLiw4cOIEysOfOJCgEpCLrz4MMHA2cuYFyWYEOLFhUooRDTITLo0IgcmTAy5kEKB6dewAx1QkWFGABcOYuverYeBiwAaOsiRISMOcePFeSsn/UEDCgjDkx8XMH25dbMUUMQgcL27bgcxYngfD/vFiznTq5NfjzU8eunJ2cuf6n6+fbD17+u/mp96/P0AEtWfegEW2FN/Bib4E4IKNogTgw5G+BKEElaIEoUWZhgShhp2mCIRhx6GOBGIIpbIEIkmpjgQiiq2iA+LLsYID4wy1nhODEEAADs=') no-repeat 0 0;float:left;height:15px;padding:7px 15px 5px 20px;list-style:none;cursor:pointer;}#mmnu li.tab_act{background-position:0 -27px;cursor:default;}#mmnu li *{color:#436976;text-decoration:none;}#mmnu li.tab_hover *{text-decoration:underline;}#mmnu li.tab_act *{color:#07a2e4;}.smnu{height:28px;border-bottom:1px solid #ccc;margin-bottom:15px;}.smnu li{float:left;background:#fff;height:9px;border:1px solid #ccc;margin:0 5px 0 0;padding:7px 20px 11px 20px;list-style:none;cursor:pointer;}.smnu li.tab_act{border:1px solid #9aa9b6;background:#c6d9ec;cursor:default;}.smnu li *{font-size:12px;color:#436976;text-decoration:none;}.smnu li.tab_act *{font-weight:normal;color:#000;}.toggler,.open{float:right;width:5px;height:9px;cursor:pointer;background:url('data:image/gif;base64,R0lGODlhCgAJAIAAALS0tP///yH5BAUUAAEALAAAAAAKAAkAAAIRjANwm7nYnIkR0mbpua8+uBQAOw==') no-repeat 0 0;}.open{background-position:-5px 0;}.inner_els{padding-right:15px;}.block{float:left;width:199px;height:60px;white-space:nowrap;margin:0 6px 0 0;}.instr{font-style:italic;height:25px;}.pages,.print{float:left;padding-right:30px;}.pages *{margin-right:7px;}.print{background:url('data:image/gif;base64,R0lGODlhEAAQANX/ACEYISEhGDExMTk5OUJCQlJSUmNjY2tra3Nzc4SEhIyMjIyMlJSUlJSUnJSt95ycnJyczpyt95yt/6WlpaWlraWlxqWtpaW9/6XWpa2tra2tta3G/7W1tb29vb29xr3Gvb3G573O/8bGxsbO587Ozs7O1s7W3s7e/9bW1tbn/97e3t7n7+fn5+fn7+fn/+/v7+/v9/f398DAwP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAADIALAAAAAAQABAAQAaeQJkQQoREIsJk8kEiqUQczKdCmXA8E6UMcgptLhKtbPF4zVqih4KRMAwCAISW670gxcIHivTooP4iGUkMGRMZIigvL08ZDwsMCloPDyUMAwUNiAlzKV1fd3hbnhcOoUIuJyAgIyYkDGJ9GRksMC8rexyvY4ckIiokFh0kgLkyDywsHRMaWAyPDQoHm3kPMTMoDwQAAAIGCZGwSQnfSUEAOw==') no-repeat 0 0;font-style:normal;padding:0 0 6px 22px;}.buttons{text-align:right;}.bord{font-size:12px;line-height:130%;border-right:1px solid #ccc;border-bottom:1px solid #ccc;}.bord th{background:#e9edef;border-left:1px solid #ccc;border-top:1px solid #ccc;text-align:left;padding:7px;}.bord th.c{text-align:center;width:5%;}.bord td{text-align:center;border-left:1px solid #ccc;border-top:1px solid #ccc;padding:5px 7px 5px 7px;}.bord td.l{text-align:left;}.bord td.r{text-align:right;}.bord td.nc{text-align:left;white-space:nowrap;}td.lch,input#lch_text{background:#d5e2f0!important;}td.le,input#le_text{background:#dae0dc!important;}td.out,input#out_text{background:#d8d8d8!important;}.hl td{background:#ececec;}.nofloat{overflow:hidden;}#popup .btns{float:right;padding-right:5px;}#popup .btns div{cursor:pointer;width:10px;height:10px;border:1px solid #999;background:url('data:image/gif;base64,R0lGODlhCAAIAIAAAJmZmf///yH5BAEHAAEALAAAAAAIAAgAAAIOBIJhi7zcYDTpUWiTAgUAOw==') no-repeat 1px 1px;}
</style>
<!--[if lte IE 7]><style type="text/css" media="screen">
h2{margin:0;padding:12px 0 12px 15px;background:#fff;}h3{padding-left:0;}label{cursor:default;}.btn{background:#fff;padding:4px 0;}#container{min-width:1004px;}* html #container{width:expression(((document.compatMode && document.compatMode=='CSS1Compat')?document.documentElement.clientWidth:document.body.clientWidth)<1010?"1004px":"100%");zoom:1;}#header{background:#f3f3f3;}* html #header{height:95px;he\ight:85px;}#popup{position:absolute;}#popup textarea{height:109px;}#menu{border-right:2px solid #ccc;}* html #menu{border:0;padding-top:15px;}* html #all{padding:20px 10px;border:2px solid #ccc;}* html .smnu li{padding:7px 20px 8px 20px;border-bottom:0;}* html .smnu li.tab_act{border-bottom:0;}a.btn{padding:4px 5px 5px 5px;}* html .block{width:222px;}.instr{margin:-5px 0 5px 0;}.print{padding-left:0;}.buttons{margin-top:5px;}.nofloat{zoom:1;}* html .ieFix{margin-left:-3px;}
</style><![endif]-->
<style type="text/css" media="print">
body{font:12px Arial,Verdana,Helvetica,sans-serif;line-height:130%;}*{padding:0;margin:0;}.z{border-spacing:0;border-collapse:collapse;}.z td{padding:0;}.bb{font-weight:bold;}h2,h2 a{clear:both;font-size:18px;line-height:120%;margin-top:10px;padding:2px 0 12px 0;border-bottom:1px solid #ccc;}#tt h3{font-size:15px;line-height:120%;padding:0;margin:20px 0 10px 0;}#container{margin:0 1px;width:99%;}#tt,#bt{margin-top:1px;}#header,#menu,.smnu,.print,.buttons{display:none;}#content{padding-top:15px;}.inner_els{page-break-after:always;display:block!important;}.pages{text-align:right;padding:5px 4px 0 0;}.bord{font-size:12px;line-height:130%;border-right:1px solid #ccc;border-bottom:1px solid #ccc;}.bord th{border-left:1px solid #ccc;border-top:1px solid #ccc;text-align:left;padding:7px;}.bord th.c{text-align:center;width:5%;}.bord td{text-align:center;border-left:1px solid #ccc;border-top:1px solid #ccc;padding:5px 7px 5px 7px;}.bord td.l{text-align:left;}.bord td.r{text-align:right;}.bord td.nc{text-align:left;white-space:nowrap;}
</style>
<script type="text/javascript">
// Яваскриптовый фреймворк
// Версия: 1.0.28 Final (29.01.2010)
// Авторы: Иван Азарёнок, Григорий Зарубин, Андрей Сидоров (Shogo.Ru)

//<![CDATA[
var suilib={version:"lite-1.0.28",collector:{events:[],elements:[],cache:{}},anonymous:function(){},client:{domSupported:!!document.getElementById,nativeWrapper:!!window.HTMLElement,opera:!!window.opera,msie:!!(document.all&&document.all.item&&!window.opera&&!window.postMessage),trident:!!(document.all&&document.all.item&&!window.opera),safari:!!(navigator.appVersion&&navigator.appVersion.toLowerCase().indexOf("applewebkit")>=0),gecko:!!(window.Components&&window.controllers),netscape:!!document.layers},debug:{info:window.console&&console.firebug?window.console.info:this.anonymous,error:window.console&&console.firebug?window.console.error:this.anonymous,log:window.console&&console.firebug?window.console.log:this.anonymous,warn:window.console&&console.firebug?window.console.warn:this.anonymous},ready:function(C,B,A){if(!this.init.initialize){this.init.initialize=[]}this.init.initialize.push({method:(C||suilib.anonymous),context:(B||window),args:(A||[])})},init:function(){if(suilib.init.done){return null}suilib.init.done=true;suilib.body=(!!document.body?document.body:document.getElementsByTagName("body")[0]);if(window.addEventListener){window.addEventListener("click",suilib.clickCapture,true)}else{suilib.clickCapture.$("click",window,document)}if(arguments.callee.initialize&&arguments.callee.initialize.length){for(var B=0,A=arguments.callee.initialize.length;B<A;B++){arguments.callee.initialize[B].method.apply(arguments.callee.initialize[B].context,arguments.callee.initialize[B].args)}}},body:{},capturedClick:{},clickCapture:function(A){suilib.capturedClick=A},extensions:{Array:{hasa:function(B){for(var A=0;A<this.length;A++){if(this[A]===B){return A}}return false},walkwith:function(A){var B=[];for(var C=0;C<this.length;C++){B.push(A(this[C]))}return B},filter:function(){var C=[];for(var B=0,A=arguments.length;B<A;B++){C.push(arguments[B])}return suilib.domExt.filter.apply(this,C)},hash:function(){var A={};for(var C=0,B=this.length;C<B;C++){A[C]=this[C]}return A},tweener:function(B,A){return suilib.domExt.tweener.call(this,B&&A?B:null,!A?B:A)}},String:{trim:function(E){var C=[" ","\r","\n"],A=this;if(E){for(var D=0,B=E.length;D<B;D++){C.push(E.charAt(D))}}while(C.hasa(A.charAt(0))!==false){A=A.substr(1)}while(C.hasa(A.charAt(A.length-1))!==false){A=A.substr(0,A.length-1)}return A.toString()},camelize:function(){var C=this.split("-"),A=C.length;if(A==1){return C[0]}var D=this.charAt(0)=="-"?C[0].charAt(0).toUpperCase()+C[0].substring(1):C[0];for(var B=1;B<A;B++){D+=C[B].charAt(0).toUpperCase()+C[B].substring(1)}return D.toString()},find:function(A){return(this.indexOf(A)>=0?true:false)}},Date:{isLeapYear:function(){var A=this.getFullYear();return((((A%4==0)&&(A%100!=0))||(A%400==0))?true:false)}},Function:{$:function(){var E=arguments[0],D=suilib.client.gecko;for(var B=1,A=arguments.length;B<A;B++){if(!arguments[B]){continue}try{if(typeof arguments[B]=="object"&&"length" in arguments[B]&&"hasa" in arguments[B]){var F=[];arguments[B].walkwith(function(G){F.push(G)});F.unshift(E);this.$.apply(this,F);continue}arguments[B]=$(arguments[B]);if(!arguments[B]){continue}if(arguments[B].attachEvent){arguments[B].attachEvent("on"+E,this)}else{arguments[B].addEventListener(E,this,false)}if(E!="unload"){suilib.collector.events.push([this,E,arguments[B]])}}catch(C){suilib.debug.error("$\n"+C)}}return this},$$:function(){var E=arguments[0],D=suilib.client.gecko;for(var B=1,A=arguments.length;B<A;B++){if(!arguments[B]){continue}try{if(typeof arguments[B]=="object"&&"length" in arguments[B]&&"hasa" in arguments[B]){var F=[];arguments[B].walkwith(function(G){F.push(G)});F.unshift(E);this.$$.apply(this,F);continue}arguments[B]=$(arguments[B]);if(!arguments[B]){continue}if(arguments[B].detachEvent){arguments[B].detachEvent("on"+E,this)}else{arguments[B].removeEventListener(E,this,false)}}catch(C){suilib.debug.error("$$\n"+C)}}return this}}},domExt:{__e__:true,$:function(){var C=arguments[0];for(var B=1,A=arguments.length;B<A;B++){if(arguments[B]&&arguments[B].$){arguments[B].$(C,this)}}return this},$$:function(){var C=arguments[0];for(var B=1,A=arguments.length;B<A;B++){if(arguments[B]&&arguments[B].$$){arguments[B].$$(C,this)}}return this},filter:function(I,H,F,G){var J=[];J.filter=suilib.extensions.Array.filter;if(this instanceof Array){for(var C=0,A=this.length;C<A;C++){if(this[C]&&this[C].filter){J=J.concat(this[C].filter(I,H,F,G))}}return J}var E=(G?this.getElementsByTagName(I||"*"):this.childNodes);outerLoop:for(var C=0,A=E.length;C<A;C++){if(!E[C]||E[C].nodeType!=1){continue}if(!G&&I&&I!="*"&&E[C].tagName.toLowerCase()!=I.toLowerCase()){continue}if(H&&E[C].className.split(" ").hasa(H)===false){continue}if(F){for(var B in F){try{if(E[C].getAttribute(B).toLowerCase()!==F[B].toLowerCase()){continue outerLoop}}catch(D){continue outerLoop}}}J.push($(E[C]))}return J},unset:function(A){if(A&&this.removeAttribute){var B=this.getAttribute("id");if(suilib.collector.cache[B]){delete (suilib.collector.cache[B])}this.removeAttribute("id")}this.parentNode.removeChild(this);return this},empty:function(A,B){while(this.firstChild){if(A&&this.firstChild.nodeType==1){$(this.firstChild).empty(A,B)}if(B&&this.firstChild.removeAttribute){var C=this.firstChild.getAttribute("id");if(suilib.collector.cache[C]){delete (suilib.collector.cache[C])}this.firstChild.removeAttribute("id")}this.removeChild(this.firstChild)}return this},show:function(B,C){if(B){C=C.split(",");var E={};for(var D=0,A=C.length;D<A;D++){switch(C[D].trim()){case"fade":E.opacity=[0,100];this.setstyle("opacity:0");break}}this.style.display="";this.animate(B,E)}else{this.style.display=""}return this},hide:function(C,D){if(C){D=D.split(",");var F={},B=this;for(var E=0,A=D.length;E<A;E++){switch(D[E].trim()){case"fade":F.opacity=[100,0];this.setstyle("opacity:100");break}}this.animate(C,F,function(){B.hide();B.setstyle("opacity:100")})}else{this.style.display="none"}return this},toggle:function(G,C,D){if(!G){return false}if(C){D=D.split(",");var H={},F,B=this;for(var E=0,A=D.length;E<A;E++){switch(D[E].trim()){case"fade":H.opacity=[100,0];this.setstyle("opacity:100");F=D[E].trim();break}}this.animate(C,H,function(){B.hide();B.setstyle("opacity:100");$(G).show(C,F)})}else{this.style.display="none";$(G).style.display=""}return this},animate:function(C,F,B,E){var A=0,D=0,K=this,H=(E||100);var J=C*1000/H;var G=function(N,M){var L;switch(N.camelize().trim()){case"width":case"height":case"left":case"top":case"fontSize":L=M+"px";break;case"color":case"backgroundColor":L="#"+suilib.Color.hsl2hex(M,100,100);break;default:L=M}return L};var I=function(N,Q){var P=arguments.callee;if(!P.$queue){P.$queue={}}if(!P.$ignore){P.$ignore={}}for(var M in N){if(!P.$queue[M]){P.$queue[M]=false;if(typeof N[M]=="function"&&N[M].call){this.setstyle(M+":"+N[M].call(P,Q,M));continue}if(!("$"+M in P)){P["$"+M]=N[M][0]}var R=(Math.max(N[M][0],N[M][1])-Math.min(N[M][0],N[M][1]))/J;if(!R){R=1}this.setstyle(M+":"+G(M,P["$"+M]));if(N[M][1]>N[M][0]){P["$"+M]+=R;if(P["$"+M]>=N[M][1]){P.$queue[M]=true;this.setstyle(M+":"+G(M,N[M][1]))}}else{if(N[M][1]<N[M][0]){P["$"+M]-=R;if(P["$"+M]<=N[M][1]){P.$queue[M]=true;this.setstyle(M+":"+G(M,N[M][1]))}}else{this.setstyle(M+":"+G(M,N[M][0]));P.$queue[M]=true}}}}var L=true;for(var O in P.$queue){if(!P.$ignore[O]&&P.$queue[O]!==true){L=false}}if(L){P.stop()}};I.loop=function(L,M){this.$ignore[M]=!!L};I.stop=function(){clearInterval(A);if(B){B()}};if(this.$intervalid){clearInterval(this.$intervalid)}this.$intervalid=A=setInterval(function(){D++;I.apply(K,[F,D])},H)},tweener:function(B,A){if("jTweener" in window){return $t(B&&typeof (B)=="object"&&A?B:this,!A?B:A)}else{suilib.debug.warn("jTweener not included!");return{tween:suilib.anonymous,percent:suilib.anonymous,stop:suilib.anonymous,addOptions:suilib.anonymous,clearOptions:suilib.anonymous,removeOptions:suilib.anonymous}}},setstyle:function(B){var J=B.split(";");for(var E=0,C=J.length;E<C;E++){var D=J[E].split(":");var A=D[0].camelize().trim();try{switch(A){case"float":this.style.styleFloat=D[1].trim();this.style.cssFloat=D[1].trim();break;case"opacity":var F=parseInt(D[1],10);if(document.body.filters){var H=(this.filters["DXImageTransform.Microsoft.alpha"]||this.filters.alpha);if(H){H.opacity=F}else{this.style.filter+="progid:DXImageTransform.Microsoft.Alpha(opacity="+F+")"}}else{var G=F/100;this.style.opacity=G;this.style.MozOpacity=G;this.style.KhtmlOpacity=G}break;default:this.style[A]=D[1].trim()}}catch(I){}}return this},classAdd:function(B){if(B&&typeof B==="string"){var D=(B||"").split(/\s+/);if(!this.className){this.className=B}else{var C=" "+this.className+" ";for(var E=0,A=D.length;E<A;E++){if(C.indexOf(" "+D[E]+" ")<0){this.className+=" "+D[E]}}}}return this},classReplace:function(D,C){if(typeof C=="object"&&C.length){for(var B=0,A=C.length;B<A;B++){this.classRemove(C[B])}}else{this.classRemove(C)}this.classAdd(D);return this},classRemove:function(B){if((B&&typeof B==="string")||B===undefined){var D=(B||"").split(/\s+/);if(this.className){if(B){var C=(" "+this.className+" ").replace(/[\n\t]/g," ");for(var E=0,A=D.length;E<A;E++){C=C.replace(" "+D[E]+" "," ")}this.className=C.substring(1,C.length-1)}else{this.className=""}}}return this},offset:function(B){var A=this.offsetLeft,D=this.offsetTop;if(this.offsetParent&&B){var C=$(this.offsetParent).offset(B);A+=C[0];D+=C[1]}return[A,D]},html:function(A){if(A&&A.length&&A.length===parseInt(A.length,10)){this.innerHTML=A}return this.innerHTML},add:function(E,B,G){var F=$(document.createElement(E));if(B){for(var D in B){switch(D){case"class":F.classAdd(B[D]);break;case"style":F.setstyle(B[D]);break;case"innerHTML":F.html(B[D]);break;default:F.setAttribute(D,B[D])}}}if(G){for(var C=0,A=G.length;C<A;C++){if(G[C]){F.appendChild(G[C])}}}if(this&&this!=window&&this!=document&&this.appendChild){this.appendChild(F)}return F},addtext:function(A){var B=document.createTextNode(A);if(this&&this!=window&&this!=document&&this.appendChild){this.appendChild(B)}return B}},addProps:function(C,A,B){for(var B in A){if(C[B]&&B){continue}else{C[B]=A[B]}}return C},ajax:function(url,params,method,handler){if(!url){url=document.location.protocol+"//"+document.location.hostname+document.location.pathname+document.location.search}handler=(handler||suilib.anonymous);var pick=function(){var v=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],result;for(var i=0,l=v.length;i<l;i++){try{result=v[i]()}catch(exc){continue}break}return result};var provider=pick();var xmlhttp=provider;var closure=function(){handler({readyState:xmlhttp.readyState,statusCode:(xmlhttp.readyState==4)?xmlhttp.status:null,responseJS:(xmlhttp.readyState==4&&xmlhttp.status==200)?(function(x){try{eval("try{var r="+(x.responseText||"null")+"}catch(e){};")}catch(e){suilib.debug.error(e+"\n\n"+x.responseText)}return r})(xmlhttp):null});if(xmlhttp.readyState==4){xmlhttp=null}};if(!!params.hasa){params=params.join("&")}if(method=="get"){url+=(url.match(/\?/)?"&":"?")+params}url+=(url.match(/\?/)?"&":"?")+"$js="+((new Date()).getTime());try{provider.open(method,url.toLowerCase(),true);provider.onreadystatechange=closure;provider.setRequestHeader("X-Requested-With","Shogo UI/"+suilib.version);if(method=="post"){provider.setRequestHeader("Content-type","application/x-www-form-urlencoded")}provider.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*");provider.setRequestHeader("Connection","close");provider.send(method=="post"?params:null)}catch(exc){suilib.debug.error(exc+" "+params)}return provider},get:function(B,A){return this.ajax(null,B,"get",A)},post:function(B,A){return this.ajax(null,B,"post",A)},switchWait:function(F,K){try{var B=suilib.client.trident,I=B?suilib.screensizes():[];if(!arguments.callee.floatMover){arguments.callee.floatMover=function(P){var Q=document.documentElement.scrollLeft+document.body.scrollLeft;var O=document.documentElement.scrollTop+document.body.scrollTop;A.style.left=parseInt(P.pageX?P.pageX:P.x+Q,10)-16+"px";A.style.top=parseInt(P.pageY?P.pageY:P.y+O,10)-15+"px"}}var M="i/ajax/",G=[M+"loader.gif",M+"ajax."+(B?"gif":"png")];if(F){if(K&&G[K]){var A=new Image();A.src=G[K];suilib.body.appendChild(A);$(A).setstyle("position:absolute; z-index:200");var L=(window.event||suilib.capturedClick);try{if(L.type!="click"){L=(B?window.event:suilib.capturedClick)}}catch(J){}var H=document.documentElement.scrollLeft+document.body.scrollLeft;var E=document.documentElement.scrollTop+document.body.scrollTop;if(L){var C=parseInt(L.pageX?L.pageX:L.x+H,10)-16;var N=parseInt(L.pageY?L.pageY:L.y+E,10)-15;I[2]=B?I[2]:Math.max(document.body.scrollWidth,window.innerWidth);I[3]=B?I[3]:Math.max(document.body.scrollHeight,window.innerHeight);if(isNaN(C)){C=Math.ceil(I[2]/2)-16}if(isNaN(N)){N=Math.ceil(I[3]/2)-16}$(A).setstyle("top:"+N+"px; left:"+C+"px")}if(!arguments.callee.floatloader){arguments.callee.floatloader=A}arguments.callee.floatMover.$("mousemove",window,document)}else{if(K){}else{if(!arguments.callee.wdiv){arguments.callee.wdiv=$(suilib.body).add("div",{style:"position:"+(B?"absolute":"fixed")+"; left:0; top:0; z-index:9998; margin:0; background:#000000; width:"+(B?I[0]+"px":"100%")+"; height:"+(B?I[3]+"px":"100%")})}arguments.callee.wdiv.setstyle("opacity:30");if(!arguments.callee.idiv){arguments.callee.idiv=$(suilib.body).add("div",{style:"position:"+(B?"absolute":"fixed")+"; z-index:9999; text-align:center; padding-top:20%; color:#EBEBEB; width:100%; left:0; top:"+(B?(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)+"px":"0")},[addtext("Пожалуйста, подождите..."),add("br"),add("img",{src:G[0]})])}}}}else{if(K&&G[K]){arguments.callee.floatMover.$$("mousemove",window,document);try{suilib.body.removeChild(arguments.callee.floatloader)}catch(J){}arguments.callee.floatMover=null;arguments.callee.floatloader=null}else{if(K){}else{$(arguments.callee.wdiv).unset(true);$(arguments.callee.idiv).unset(true);arguments.callee.wdiv=null;arguments.callee.idiv=null;window.scrollBy(1,1);window.scrollBy(-1,-1)}}}}catch(D){}},screensizes:function(){var B=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;var A=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;return[B,A,Math.min(document.body.scrollWidth,B),Math.max(document.body.scrollHeight,A)]},free:function(){for(var A=0;A<this.length;A++){if(!this[A][0]||!this[A][0].$$||!this[A][1]||!this[A][2]){continue}this[A][0].$$(this[A][1],this[A][2]);this[A][0]=this[A][2]=this[A]=null}}};(function(A){for(var B in A){suilib.addProps(window[B].prototype,A[B])}})(suilib.extensions);if(suilib.client.nativeWrapper){suilib.addProps(window.HTMLElement.prototype,suilib.domExt)}var add=suilib.domExt.add,addtext=suilib.domExt.addtext,__e__=true;function $(){if(!arguments[0]){return null}var C=[];if(arguments.length>1){for(var B=0,A=arguments.length;B<A;B++){C.push($(arguments[B]))}}else{switch(typeof arguments[0]){case"string":try{C=suilib.collector.cache[arguments[0]]?suilib.collector.cache[arguments[0]]:document.getElementById(arguments[0]);suilib.collector.cache[arguments[0]]=C}catch(D){suilib.debug.error("[wrong node]:\n"+D)}break;default:C=arguments[0]}}try{if(arguments.length==1&&!C.__e__){C=suilib.addProps(C,suilib.domExt,true)}}catch(D){suilib.debug.error("[extend error]: "+arguments[0]+"\n"+D)}return C}(function(){if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);suilib.init()},false)}if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);suilib.init()}});if(document.documentElement.doScroll&&window==window.top){(function(){if(suilib.init.done){return }try{document.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,0);return }suilib.init()})()}}window.onload=suilib.init;(function(){suilib.free.call(suilib.collector.events);with(suilib.collector){for(var i=0;i<cache.length;i++){cache[i]=null}}}).$("unload",window)})();suilib.Color={rgb2hex:function(B){var A="0123456789ABCDEF",D=B.split(","),E="";for(var C=0;C<3;C++){var F=parseInt(D[C],10);E+=A.charAt(F>>4)+A.charAt(F&15)}return E},hex2rgb:function(C){var A="0123456789ABCDEF",D=[];C=C.toUpperCase();for(var B=0;B<6;B+=2){D.push(16*A.indexOf(C.charAt(B))+A.indexOf(C.charAt(B+1)))}D=D.join(", ");return D},hsl2rgb:function(N,I,A){var M,Q,D,O,E,L,P,J,H,C,K;var F=function(R,B,G){if(R<B){R=B}if(R>G){R=G}return R};if(I>0){O=N/60;L=A/100;E=I/100;K=parseInt(O,10);P=O-K;J=L*(1-E);H=L*(1-E*P);C=L*(1-E*(1-P));switch(K){case 0:M=L*255;Q=C*255;D=J*255;break;case 1:M=H*255;Q=L*255;D=J*255;break;case 2:M=J*255;Q=L*255;D=C*255;break;case 3:M=J*255;Q=H*255;D=L*255;break;case 4:M=C*255;Q=J*255;D=L*255;break;case 5:M=L*255;Q=J*255;D=H*255;break}}else{M=(A*255)/100;Q=M;D=M}return parseInt(F(M,0,255),10)+", "+parseInt(F(Q,0,255),10)+", "+parseInt(F(D,0,255),10)},hsl2hex:function(C,B,A){return this.rgb2hex(this.hsl2rgb(C,B,A))}};
//]]>
</script>
</head>

<body>

<div id="container">
  <div id="header">
    <div class="text">
      <h1>Система футбольной статистики</h1>
      <div class="desc">Football Statistics System (v3.0)</div>
    </div>

    <div class="console"><span class="red">Полностью обособленная динамическая система сбора футбольной статистики в одном файле.</span> Не требует никакого дополнительного софта, кроме браузера (с включенным javascript). Все данные в определенном виде необходимо сохранять самостоятельно простым копи-пастом ;-)</div>

    <ul id="mmnu"><li></li></ul>
  </div>

  <h2 id="hdr">Панель статистики</h2>

  <div id="body">

    <div id="first_start" style="display:none;">
      <p class="m20">Это первый запуск приложения. Для начала работы Вам необходимо создать хотя бы один турнир и заполнить его командами. Вы можете создать несколько различных турниров с любым количеством групп и команд в каждом.<br />Для каждой команды можно указать один или несколько статусов, показывающих её заслуги по итогам прошлого сезона, а также назвать и выделить цветом три зоны в турнирной таблице.</p>

      <form id="trn" action="">
        <div class="m15"><b>Название турнира:</b>&nbsp;&nbsp;<input type="text" size="100" id="trn_name" />&nbsp;&nbsp;<span class="btn"><input type="button" value="Сохранить турнир" id="trn_save" /></span> <span class="btn"><input type="button" value="Очистить поля" id="trn_reset" /></span></div>
        <div class="m35"><b>Число групп:</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" size="2" id="groups_num" value="1" />&nbsp;&nbsp;<b>по</b>&nbsp;&nbsp;<input type="text" size="2" id="commands_num_0" />&nbsp;&nbsp;<b>команд</b>&nbsp;&nbsp;&nbsp;&nbsp;<span class="btn"><input type="button" value="Добавить" id="groups_add" /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" class="chk" id="trn_results" /><label for="trn_results">сохранять результаты</label></div>

        <div id="groups"></div>

        <div class="hr m20" style="clear:both;">&nbsp;</div>
        <div align="center"><span class="btn"><input type="button" value="Запустить систему" id="sys_load" /></span>&nbsp;&nbsp;<span class="btn"><input type="button" value="Сбросить все данные" id="data_reset" /></span></div>
      </form>
    </div>

    <div id="main" style="display:none;">
      <div id="menu">
        <div class="toggler" id="toggler" title="Скрыть/раскрыть левый блок"></div>

        <div id="all">
          <h3>Ввод данных</h3>

          <div id="group_div"></div>

          <div id="input_tour_div"></div>

          <div class="m5"><span id="com_home_span"></span><input type="text" size="30" value="" id="com_home_inp" style="display:none;" /></div>
          <div class="m5"><input type="text" size="2" maxlength="2" value="0" id="count_home" />&nbsp;<b>:</b>&nbsp;<input type="text" size="2" maxlength="2" value="0" id="count_guest" />&nbsp;&nbsp;&nbsp;&nbsp;<span id="extra_ps_span" style="display:none;"><input type="checkbox" class="chk" id="extra_ps" /><label for="extra_ps">серия пенальти</label></span></div>
          <div class="m5" id="extra_ps_div" style="display:none;"><input type="text" size="2" maxlength="2" value="0" id="count_home_ps" />&nbsp;<b>:</b>&nbsp;<input type="text" size="2" maxlength="2" value="0" id="count_guest_ps" /></div>
          <div class="m15"><span id="com_guest_span"></span><input type="text" size="30" value="" id="com_guest_inp" style="display:none;" /></div>

          <div id="extra_block">
            <div class="m20"><input type="checkbox" class="chk" id="extra" /><label for="extra">дополнительный</label>&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" class="chk" checked="checked" id="extra_save" /><label for="extra_save">сохранять бомбардиров</label></div>
            <div class="m10" id="extra_group_div" style="margin-top:-10px;overflow:hidden;height:0;">Cтадия:&nbsp;&nbsp;<span id="extra_group_span"></span><input type="text" size="30" value="" id="extra_group_inp" style="display:none;" /></div>
          </div>

          <div id="bombs_input"></div>

          <div class="m20"><span class="btn"><input type="button" value="Добавить матч" id="match_add" /></span> <span class="btn"><input type="button" value="Сохранить данные" id="data_save" /></span></div>

          <div class="hr m10">&nbsp;</div>

          <p style="padding-right:40px;">Выберите принимающую и гостевую команды и введите счет матча. В появившемся блоке появится возможность заполнить бомбардиров матча.<br /><span class="red">Учтите, что при каждой смене команды или счета блок ввода бомбардиров будет перестраиваться заново!</span></p>
        </div>
      </div>

      <div id="content">
        <ul class="smnu">
        <li class="inner_hds"><b>Результаты</b></li>
        <li class="inner_hds"><b>Турнирная таблица</b></li>
        <li class="inner_hds"><b>Бомбардиры</b></li>
        </ul>

        <div class="inner_els">
          <div class="buttons m10"><b>Показать:</b> <span id="r_tours_span"></span></div>
          <div id="rt"></div>
          <div class="instr">
            <div class="print"><a href="#" id="r_print">Распечатать статистику</a></div>
            <div class="buttons">Последняя редакция: <b></b></div>
          </div>
        </div>

        <div class="inner_els">
          <div id="tt"></div>
          <div class="instr">
            <div class="print"><a href="#" id="t_print">Распечатать статистику</a></div>
            <div class="buttons">Последняя редакция: <b></b></div>
          </div>
        </div>

        <div class="inner_els">
          <div class="buttons m10"><b>Выводить по:</b> <select id="b_types"><option value="0">голам</option><option value="1">командам</option></select>&nbsp;&nbsp;&nbsp;&nbsp;<b>Сортировать игроков по:</b> <select id="b_sorts"><option value="0">фамилии</option><option value="1">командам</option><option value="2">голам</option></select></div>
          <div id="bt"></div>
          <div class="instr">
            <div class="pages"></div>
            <div class="buttons">Последняя редакция: <b></b></div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<div id="popup" style="display:none;">
  <div class="btns"><div id="data_close"></div></div>
  <h3>Сохранение данных</h3>
  <div class="m10">Вставьте выделенную ниже строчку в самый низ исходного кода этой страницы между указанными комментариями, заменив ей уже существующую. Затем сохраните страницу и нажмите кнопку <b>"Обновить систему"</b>.</div>
  <p class="red">/* Все данные (начало вставки) */</p>
  <textarea id="data" cols="60" rows="6" readonly="readonly"></textarea>
  <p class="red m20">/* Все данные (конец вставки) */</p>
  <div align="center"><span class="btn"><input type="button" value="Обновить систему" id="data_refresh" /></span></div>
</div>

<script type="text/javascript">
//<![CDATA[
var $key,$total=[0,true,false],$autogoals=[],$results={},$isResults=false,$extra_names={},$empty=true;var $url={champ:1,group:1,tab:false,tour:false,bombs:[0,0]};var $alias={lch:"Зона Лиги чемпионов УЕФА",le:"Зона Лиги Европы УЕФА",out:"Зона вылета",champ:["Действующий чемпион","data:image/gif;base64,R0lGODlhDgANANUAAPnu0ffuzPjsyPXpuPPov/jos/PnvfPnt/flrPbipPDjqvDiqe7bnPLciPTac/bVdvPVYOjUf/HNaPLLM//LAPPHOP/KAP/JAP3HA/bHFPTIG//HAP/GAP/FAP/EAPTEHvLFEv/BAP3CAP3AAPvBAP3BAPK+EPO9B/K7APS6APe5APC4AP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEHACwALAAAAAAOAA0AAAZSQJZwOAgMj0iTBMlkjVTN46HTYR4Aw4nF0hgKDAqUZ+y5mM8rghAiOp9JCWZmQ99ooiC3o3kIUSgYFCUHTBUcH0InHAVMKQhHDytIDAtMEYQsQQA7"],cup:["Действующий обладатель Кубка","data:image/gif;base64,R0lGODlhEAAMANUAAP3vqv/ts//krv/boP/Zkf/gAP3WZP/XUv/ZJv/QhuvVgOnTfv/YAP/WEf3TOOrRcf/RI//UAOnPcefOcv/OFufNZufMav/OCebLWufKYubJXv/JAPXLBuTGVeTGTu/FJP/AK//BEebDRebBQv+8HeO/Rt++Q+2/Bf26AOC6LeS5Jv2yAPe1AN62JuO4CumyIeWxHu+uBOCtJeOqB/6cAP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEHADUALAAAAAAQAAwAAAZrwJpQaNGURpjKUNgRqgChjTQSQcGEnlHJkgpQKAlCo7B5WUajhaSmMIBIAwFkQ3vUHvaW8HOIQBBkMUJ6QiV3DhdUESsYNSZLNSUZHhwMDCyShpBLJ4Kbnxgjn58PGaObeKdDEykuMzITkEEAOw=="],"new":["Новичок лиги","data:image/gif;base64,R0lGODlhDQAMAIAAAIwBAP///yH5BAEHAAEALAAAAAANAAwAAAIXjA+nCr3c3It00ftCzEjyzWleBn7jdBYAOw=="]};function makeHeader(A){$("hdr").html("Панель статистики :: "+A)}function getMin(A){return Math.min.apply(Math,A)}function getMax(A){return Math.max.apply(Math,A)}function currentTime(){var A=new Date();return((A.getDate()<10)?"0":"")+A.getDate()+"."+((A.getMonth()<9)?"0":"")+(parseInt(A.getMonth(),10)+1)+"."+A.getFullYear().toString().substr(2)+" "+A.getHours()+((A.getMinutes()<10)?":0":":")+A.getMinutes()}function navi(mode){if(!mode){var pars=document.location.hash.split(/\&/);pars.walkwith(function(el){if(el){var ta=el.split(/\=/);switch(ta[0]){case"group":$url.group=parseInt(ta[1],10);break;case"tab":$url.tab=parseInt(ta[1],10);break;case"tour":$url.tour=parseInt(ta[1],10);break;case"bombs":$url.bombs=eval(ta[1]);break;default:$url.champ=parseInt(ta[1],10)}}})}else{document.location.hash="#champ="+$url.champ+"&group="+$url.group+"&tab="+$url.tab+"&tour="+$url.tour+"&bombs="+objTools.parse($url.bombs)}}function addOption(C,A){if(A&&A.length){for(var F=0,B=A.length;F<B;F++){var E=new Option();for(var D in A[F]){switch(D){case"innerHTML":$(E).html(A[F][D]);break;case"selected":E.selected=E.defaultSelected=A[F][D];break;case"disabled":E.disabled=A[F][D];break;case"value":default:E.setAttribute(D,A[F][D])}}$(C).appendChild(E)}}}function selOption(A,B){return $(A).options[$(A).selectedIndex][B?"innerHTML":"value"]}function setDisabled(A,C){var B=$(A).disabled;if(C){if(B){return false}$(A).disabled=true;$($(A).nextSibling).classAdd("grey")}else{if(!B){return false}$(A).disabled=false;$($(A).nextSibling).classRemove("grey")}}function getCount(){var C=[];for(var B=0,A=arguments.length;B<A;B++){C.push(arguments[B]?arguments[B].match(/\^/g).length:0)}return C}function matchType(A){var B=parseInt(A,10);return !!(((typeof A=="string"&&A.length>2)||B>$total[0]||B<0)&&B!=-100)}function getComData(D){var C=$("group_div").firstChild;if(C){var A=selOption("group",true);if(C.disabled){for(var B in data[$key]){if(B!="service"&&B!="extra"&&data[$key][B][D.toString()]){return data[$key][B][D.toString()]}}}else{return data[$key][A.replace(/\&nbsp;|\s+$/g,"")][D.toString()]}}else{return data[$key][D.toString()]}}function pagePrepare(){$("mmnu").empty(true,true);if(!objTools.length(data)){$("first_start").show();$("main").hide();makeHeader("Первый запуск")}else{$("first_start").hide();for(var A in data){$("mmnu").add("li",{"class":"hds"},[add("b",null,[addtext(A)])])}navi();tabs.init({apply:[{hds:"hds",open:$url.champ,callback:function(C,B,D){$url.champ=D;navi(true);$key=C.firstChild.html();loadData()}},{els:"inner_els",hds:"inner_hds",open:$url.tab,callback:function(C,B,D){$url.tab=D;navi(true)}}]});tabs.openTab(tabs.all[1],tabs.all[1].hds[$isResults?0:1]);$("main").show()}}function loadData(){var O=data[$key],C=1,M=[],B={},a={};$isResults=O.service.results;$("count_home").value=$("count_guest").value=$("count_home_ps").value=$("count_guest_ps").value="0";$("group_div").empty(true,true);$("input_tour_div").empty(true,true);$("extra_group_span").empty(true,true);$("extra_group_span").show();$("extra_group_inp").hide();if(!$isResults){$("extra_ps_span").hide();$("extra_ps_div").hide()}try{$("count_home").focus()}catch(F){}$("match_add").disabled=true;$("bombs_input").empty(true,true);var U=function(g,h){var k={},d=true,p=[];for(var v in g){if(v!="service"&&v!="extra"){var q=g[v];if((q[0]+q[1]+q[2])!=0){d=false;$total[1]=false}p.push(v);var y=q[6];for(var u in y){if(!$results[u]){$results[u]=[]}$results[u].push(v+"|"+y[u])}}}if(!d){p.sort(function o(AQ,AP){var AF=g[AQ][0]*3+g[AQ][1],AE=g[AP][0]*3+g[AP][1];if(AF==AE){var AT=g[AQ][0],AR=g[AP][0];if(AT==AR){var AD=[];if($isResults){var AH={};AH[AQ]=[0,0,0,0];AH[AP]=[0,0,0,0];var AI=function(AW,AU){for(var l in g[AW][6]){if(g[AW][6][l].find(AU)){var j=g[AW][6][l].split("|"),AV=getCount(j[1],j[2]);if(AV[0]>AV[1]){AH[AW][0]+=3}else{if(AV[0]==AV[1]){AH[AW][0]++;AH[AU][0]++}else{AH[AU][0]+=3}}AH[AW][1]+=AV[0];AH[AU][2]+=AV[0];AH[AW][2]+=AV[1];AH[AU][1]+=AV[1];AH[AU][3]+=AV[1]}}};AI(AQ,AP);AI(AP,AQ);AD.push([AH[AQ][0],AH[AP][0]]);AD.push([AH[AQ][1]-AH[AQ][2],AH[AP][1]-AH[AP][2]]);AD.push([AH[AQ][1],AH[AP][1]]);AD.push([AH[AQ][3],AH[AP][3]])}AD.push([g[AQ][3]-g[AQ][4],g[AP][3]-g[AP][4]]);AD.push([g[AQ][3],g[AP][3]]);for(var AN=0,AK=AD.length;AN<AK;AN++){var AC=AD[AN];if(AC[0]!=AC[1]){return(AC[0]<AC[1])?1:-1}}if($isResults){var AB=0,AA=0;for(var AN in $results){for(var AM=0,AK=$results[AN].length;AM<AK;AM++){var z=$results[AN][AM].split("|");if(z[1]==AQ){AB+=getCount(z[3])[0]}if(z[1]==AP){AA+=getCount(z[3])[0]}}}if(AB==AA){if(!g.extra){return 0}var AO=0,AL=0;for(var AN in g.extra){for(var AM=0,AK=g.extra[AN].length;AM<AK;AM++){var z=g.extra[AN][AM];if(z.find(AQ)&&z.find(AP)){var AS=z.split("|"),AG=getCount(AS[2],AS[3]),AJ=AS[4]?AS[4].split(":"):[0,0];if(AS[0]==AQ){AO+=AG[0];AL+=AG[1];AO+=parseInt(AJ[0],10);AL+=parseInt(AJ[1],10)}else{AL+=AG[0];AO+=AG[1];AL+=parseInt(AJ[0],10);AO+=parseInt(AJ[1],10)}}}}if(AO==AL){return 0}return(AO<AL)?1:-1}return(AB<AA)?1:-1}}return(AT<AR)?1:-1}return(AF<AE)?1:-1})}for(var v=0,s=p.length;v<s;v++){k[p[v]]=g[p[v]]}$("tt").add("table",{"class":"z bord ieFix m10",width:"100%",id:"tt_table_"+C},[add("tbody",null,[add("tr",null,[add("th",{innerHTML:"Место"}),add("th",{width:"69%",innerHTML:"Команда"}),add("th",{"class":"c",innerHTML:"И"}),add("th",{"class":"c",innerHTML:"В"}),add("th",{"class":"c",innerHTML:"Н"}),add("th",{"class":"c",innerHTML:"П"}),add("th",{"class":"c",innerHTML:"Голы"}),add("th",{"class":"c",innerHTML:"Очки"})])])]);var m=1;for(var v in k){if(v=="service"||v=="extra"){continue}var f=k[v],r=h||g.service,e="",n="";var t=f[0]+f[1]+f[2];if(!B[t]){B[t]=0}B[t]++;for(var u in r){if(u=="edited"||u=="results"){continue}if(r[u]&&$(r[u]).hasa(m)!==false){e=u;n=typeof r[u][0]=="string"?r[u][0]:$alias[u]}}var x=[];if(f[7]){for(var u=0,s=f[7].length;u<s;u++){var w=f[7][u];x.push(add("img",{align:"top",alt:$alias[w][0],title:$alias[w][0],style:"padding-left:5px",src:$alias[w][1]}))}}$($("tt_table_"+C).firstChild).add("tr",(m%2==0)?{"class":"hl"}:null,[add("td",{"class":e,title:n,innerHTML:String(m)}),add("td",{"class":"nc bb",innerHTML:v},(x.length!=0)?x:null),add("td",{innerHTML:String(t)}),add("td",{innerHTML:String(f[0])}),add("td",{innerHTML:String(f[1])}),add("td",{innerHTML:String(f[2])}),add("td",{noWrap:"noWrap",innerHTML:f[3]+" &mdash; "+f[4]}),add("td",{"class":"bb",innerHTML:String(f[0]*3+f[1])})]);m++}M.push(m);C++;return k};$results={};$total[1]=true;$("tt").empty(true,true);var G=1,X={};for(var W in O){if(W!="service"&&W!="extra"){var R=O[W];if("length" in R){a=U(O);if(O.extra){a.extra=O.extra}if(O.service){a.service=O.service}data[$key]=a;X=data[$key];break}else{$("tt").add("h3",{innerHTML:W});var T=$("group_div"),L=!!(G==$url.group);if(!T.firstChild){T.classAdd("m15");T.add("select",{id:"group"}).$("change",function(g){var f=g.target||g.srcElement,d=selOption(f,true);createComsSelectors(data[$key][d.replace(/\&nbsp;|\s+$/g,"")]);inputHandler("com_home");$url.group=selOption(f);navi(true)})}addOption($("group"),[{value:G,innerHTML:W+"&nbsp;&nbsp;",selected:L}]);G++;a=U(R,O.service);data[$key][W]=a;if(L){X=data[$key][W]}}}}makeHeader($key);var Q=[];for(var W in B){Q.push(W)}Q.sort(function N(e,d){if(B[e]==B[d]){return 0}return(B[e]>B[d])?-1:1});var J=(getMax(M)-1)*2-2,I=(Q[0]==J&&Q.length==1);$total[2]=I;if(Q[0]!=0){$("hdr").innerHTML+=" :: "+(I?(O.extra&&objTools.key(O.extra).split("|")[0]>J?objTools.key(O.extra).split("|")[1]:"Итоговая таблица"):"после "+Q[0]+" тура")}else{if(O.extra){$("hdr").innerHTML+=" :: "+objTools.lastKey(O.extra).split("|")[1]}}if($isResults){var c=function(d,f){if(f){if(suilib.client.safari){$(d).selectedIndex=$(d).length-1}else{$(d)[$(d).length-1].selected=$(d)[$(d).length-1].defaultSelected=true}$($(d).parentNode).hide();$(d+"_inp").show();try{$(d+"_inp").focus()}catch(e){}}extraHandler("extra")};var S=Q[0]==J?Q[0]:getMin(Q)+1;$("input_tour_div").classAdd("m15");$("input_tour_div").add("span",{"class":"bb",innerHTML:"Матч тура:&nbsp;&nbsp;"},[add("select",{id:"input_tour"})]);$("extra_block").show();$("extra_group_span").add("select",{id:"extra_group"}).$("change",function(f){var d=f.target||f.srcElement;c(d.id,selOption(d)=="add")});if(O.extra){var E=[],P=[],D=[],A={};for(var W in O.extra){var H=parseInt(W,10),K=W.split("|");$extra_names[H]=K[1];E.push(H)}E.sort(function N(e,d){if(e==d){return 0}return(e>d)?-1:1});for(var W=0,V=E.length;W<V;W++){var Z=E[W];if(Z<0){P.push(Z)}else{D.push(Z)}var b=Z+"|"+$extra_names[Z];A[b]=O.extra[b]}data[$key].extra=A}if(O.extra){for(var W=0;W<P.length;W++){addOption($("extra_group"),[{value:P[W],"class":"shl red",innerHTML:$extra_names[P[W]].toLowerCase()+"&nbsp;&nbsp;",selected:(P[W]==getMin(P)&&$total[1]&&!$total[2])}])}}for(var W=1;W<=J;W++){addOption($("input_tour"),[{value:W,innerHTML:String(W)+"&nbsp;&nbsp;",selected:W==S}]);addOption($("extra_group"),[{value:W,innerHTML:"переигровка в "+String(W)+" туре&nbsp;&nbsp;",selected:(W==S&&!$total[1]&&!$total[2])}])}if(O.extra){for(var W=0;W<D.length;W++){addOption($("extra_group"),[{value:D[W],"class":"shl red",innerHTML:$extra_names[D[W]].toLowerCase()+"&nbsp;&nbsp;",selected:(D[W]==getMax(D)&&$total[2]&&!$total[1])}])}}addOption($("extra_group"),[{value:"add","class":"shl",innerHTML:"добавить новую&nbsp;&nbsp;"}]);if(($total[1]||$total[2])&&!O.extra){c("extra_group",true)}}else{$("input_tour_div").classRemove("m15");$("extra_block").hide()}createComsSelectors(X);$empty=true;createResults();var Y=function(e,d){return typeof (e)!="number"||e<0||e>(d?1:2)?0:e};createBombers(Y($url.bombs[0],true),Y($url.bombs[1]));$("content").filter("div","instr",null,true).filter("b",null,null,true).walkwith(function(d){d.html(O.service.edited)})}function createResults(A){var L=-100,K=[],I={};$results=objTools.extend($results,data[$key].extra);$("rt").empty(true,true);$("r_tours_span").empty(true,true);$("r_tours_span").add("select",{id:"r_tours",style:suilib.client.msie?"width:90px":""}).$("change",function(P){var O=parseInt((P.target||P.srcElement).value);createResults(O)});var D=$("r_tours");$($("r_print").parentNode).show();$($("t_print").parentNode).hide();$("rt").add("table",{"class":"z bord ieFix m10",width:"100%",id:"rt_table"},[add("tbody",null,[add("tr",null,[add("th",{innerHTML:$isResults?(objTools.length($results)?"":"Не сыграно ни одного матча"):"Сохранение результатов было отключено",colSpan:$isResults&&objTools.length($results)?"3":""})])])]);if($isResults){if(objTools.length($results)){var G=function(O){return("Матчи "+O+" тура")};for(var F in $results){var H=parseInt(F,10);K.push(H)}K.sort(function J(P,O){if(P==O){return 0}return(P>O)?-1:1});for(var F=0,B=K.length;F<B;F++){var N=K[F],M=$results[N]?N:N+"|"+$extra_names[N];I[N]=$results[M]}$results=I;L=String(A||($results[$url.tour]||$url.tour=="-100"?$url.tour:(K[0]||1)));for(var F in $results){addOption(D,[{value:F,innerHTML:(matchType(F)?$extra_names[F].toLowerCase():"тур "+F)+"&nbsp;&nbsp;","class":matchType(F)?"shl red":"",selected:F==L}])}$("rt_table").filter("th",null,null,true)[0].innerHTML=matchType(L)?$extra_names[L]:(L=="-100"?(matchType(K[0])?$extra_names[K[0]]:G(K[0])):G(L));$url.tour=L;navi(true);var E=function(O){return O?O.replace(/(\^[^,]+)/g," ($1)").replace(/\,/g,", ").replace(/\^((\d|\+)+)/g,"$1', ").replace(/, @|@/g," - автогол, ").replace(/, %|%/g," - с пенальти, ").replace(/,\ ?\)/g,")"):"&mdash;"};var C=function(S){for(var Q=0,O=S.length;Q<O;Q++){var R=S[Q].split("|"),P=getCount(R[2],R[3]),T=R[4]?R[4].replace(/\:/," : "):false;$($("rt_table").firstChild).add("tr",{"class":"hl"},[add("td",{width:"49%","class":"r bb",innerHTML:R[0]}),add("td",{noWrap:"noWrap",innerHTML:P[0].toString()+" : "+P[1].toString()+(T?("<br /><b>("+T+")</b>"):"")}),add("td",{width:"49%","class":"l bb",innerHTML:R[1]})]);$($("rt_table").firstChild).add("tr",null,[add("td",{"class":"r",innerHTML:E(R[2])}),add("td"),add("td",{"class":"l",innerHTML:E(R[3])})])}};if(L=="-100"){for(var F in $results){if($("rt_table").firstChild.lastChild.firstChild.tagName!=="TH"){$($("rt_table").firstChild).add("tr",null,[add("th",{innerHTML:matchType(F)?$extra_names[F]:G(F),colSpan:"3"})])}C($results[F])}}else{C($results[L])}}addOption(D,[{value:"-100",innerHTML:"все&nbsp;&nbsp;",selected:L=="-100"}])}else{addOption(D,[{value:"null",innerHTML:"нет данных&nbsp;&nbsp;"}]);$($("r_print").parentNode).hide();$($("t_print").parentNode).show()}}function createBombers(G,E){var Q=data[$key],L={},e={},K={},N=1;var R=$("b_sorts").options,P=$("b_types").options,Z=R[(G==0)?2:1].selected?0:E;P[G].selected=P[G].defaultSelected=true;R[Z].selected=R[Z].defaultSelected=true;R[1].disabled=(G==0)?false:true;R[2].disabled=(G==0)?true:false;$url.bombs=[G,Z];navi(true);$("bt").empty(true,true);$("content").filter("div","instr",null,true).filter("div","pages",null,true).walkwith(function(a){a.html("В скобках указаны голы, забитые с пенальти")});var T=(E==2)?true:false;var W=function(o){K=objTools.clone(o);for(var k in o){if(k=="service"||k=="extra"){continue}var n=[],p=o[k][5];if(objTools.length(p)){$empty=false;K[k][5]={};for(var h in p){n.push(h)}n.sort(function m(j,i){if(T){j=p[j][0];i=p[i][0]}if(j==i){return 0}return(j<i)?(T?1:-1):(T?-1:1)});for(var h=0,a=n.length;h<a;h++){K[k][5][n[h]]=p[n[h]]}}}return K};for(var c in Q){if(c!="service"&&c!="extra"){var U=Q[c];if("length" in U){e=W(Q);L=e;if(!T){data[$key]=e}break}else{e=W(U);L=objTools.extend(L,e);if(!T){data[$key][c]=e}}}}switch(G){case 1:if($empty){$("bt").add("table",{"class":"z bord ieFix m10",width:"100%"},[add("tbody",null,[add("tr",null,[add("th",{innerHTML:"Голов пока никто не забивал"})])])]);$("content").filter("div","instr",null,true).filter("div","pages",null,true).walkwith(function(a){a.html(" ")});break}$("bt").add("table",{"class":"z bord ieFix m10",width:"100%",id:"bt_table"},[add("tbody",null,[add("tr",null,[add("th",{innerHTML:"Команды"}),add("th",{width:"99%",innerHTML:"Бомбардиры"})])])]);for(var c in L){if(c=="service"||c=="extra"){continue}var C=L[c],V={},M=objTools.length(L[c][5]),J=0;if(M){for(var b in C[5]){var F=C[5][b],D=C[5][b][0];if(typeof F[1]=="string"){J=J+D}else{if(T){if(!V[D]){V[D]=[]}V[D].push([b,F[1]]);V[D].sort()}}}if(objTools.length(V)){C[5]=V}}var f=(J==0)?true:false;$($("bt_table").firstChild).add("tr",(N%2==0)?{"class":"hl"}:null,[add("td",{"class":"nc",vAlign:"top"},[add("div",{"class":"m5 bb",innerHTML:c}),add("div",{innerHTML:"Всего забито: <b>"+String(C[3])+"</b>"},f?null:[add("div",{"class":"s11",innerHTML:" (из них автоголов: <b>"+String(J)+"</b>)"})])]),add("td",{"class":"l",id:"bombs_list_"+N})]);if(M){for(var b in C[5]){var F=C[5][b];if(typeof F[1]=="string"){continue}if(T){var B=F.walkwith(function(a){return String(a[0]+(a[1]==0?"":" ("+a[1]+")"))})}$("bombs_list_"+N).add("div",{"class":"m5",innerHTML:(T?"<b>":"")+String(b)+" &mdash; "+(T?"</b>":"")+(T?B.join(", "):"<b>"+String(F[0])+(F[1]==0?" ":" ("+String(F[1])+") ")+"</b>")})}}N++}break;case 0:default:var K={},V={},S=[],T=(E==1)?true:false;for(var c in L){if(c=="service"||c=="extra"){continue}var C=L[c][5];if(objTools.length(C)){for(var b in C){var H=C[b],Y=(typeof C[b][1]=="string");var g=Y?"auto":H[0];var I=[b,Y?H[0]:H[1],Y?H[1]:c];if(!Y){S.push(parseInt(g,10))}if(!K[g]){K[g]=[]}K[g].push(I)}}}if($empty){$("bt").add("table",{"class":"z bord ieFix m10",width:"100%"},[add("tbody",null,[add("tr",null,[add("th",{innerHTML:"Голов пока никто не забивал"})])])]);$("content").filter("div","instr",null,true).filter("div","pages",null,true).walkwith(function(a){a.html(" ")});break}if(objTools.length(K)){S.sort(function O(i,h){if(i==h){return 0}return(i<h)?1:-1});for(var c=0,X=S.length+1;c<X;c++){var A=K[S[c]]?S[c]:"auto";if(!K[A]){continue}K[A].sort(function O(i,h){var k=T?i[2]:i[0],j=T?h[2]:h[0];if(k==j){if(i[0]==h[0]){return 0}return(i[0]<h[0])?-1:1}return(k<j)?-1:1});V[A]=K[A]}K=V}$("bt").add("table",{"class":"z bord ieFix m10",width:"100%",id:"bt_table"},[add("tbody",null,[add("tr",null,[add("th",{"class":"c",innerHTML:"Голы"}),add("th",{width:"99%",innerHTML:"Игроки"})])])]);for(var c in K){var f=(c=="auto")?true:false;if(f){var d={};for(var b=0;b<K[c].length;b++){if(d[K[c][b][0]]==null){d[K[c][b][0]]=b}else{K[c][d[K[c][b][0]]][1]+=K[c][b][1];K[c].splice(b,1);b--}}$autogoals=K[c]}var B=K[c].walkwith(function(a){return String(a[0]+" ("+a[2]+(a[1]!==0?(f&&a[1]==1?"":", "+a[1]):"")+")")});$($("bt_table").firstChild).add("tr",(N%2==0)?{"class":"hl"}:null,[add("td",{"class":"bb",vAlign:"top",innerHTML:f?"в свои ворота":c}),add("td",{"class":"l",innerHTML:B.join(", ")})]);N++}}}function createComsSelectors(C,D,F){$("com_home_span").empty(true,true);$("com_guest_span").empty(true,true);$("com_home_span").show();$("com_home_inp").hide();$("com_guest_span").show();$("com_guest_inp").hide();$("com_home_span").add("select",{id:"com_home"}).$("change",inputHandler);addOption("com_home",[{value:"null",innerHTML:"Выберите команду&nbsp;&nbsp;",selected:true}]);var E=0;for(var A in C){if(A=="service"||A=="extra"){continue}addOption("com_home",[{value:A,innerHTML:A+"&nbsp;&nbsp;"}]);E++}if(D){addOption("com_home",[{value:"add","class":"shl",innerHTML:"Новая команда&nbsp;&nbsp;"}])}var B=$("com_home").cloneNode(true);B.setAttribute("id","com_guest");B.$("change",inputHandler);$("com_guest_span").appendChild(B);if(!D){if(!F){setDisabled("extra_save",true);if($isResults&&$("extra").checked){$("extra").checked=false;$("extra_ps").checked=false;$("extra_ps_span").show();extraHandler("extra")}}$total[0]=E*2-2}}function createBombsList(){var G={},J=1,I=parseInt($("count_home").value,10),A=parseInt($("count_guest").value,10),K=selOption("com_home")=="add"?$("com_home_inp").value:selOption("com_home"),B=selOption("com_guest")=="add"?$("com_guest_inp").value:selOption("com_guest");$("bombs_input").empty(true,true);if(I+A<=0){return null}$("bombs_input").add("div",{"class":"m5 bb",innerHTML:"Голы забили:"});$("bombs_input").add("ol",{id:"bombs_list"});for(var E=0,D=I+A;E<D;E++){G[J]=(E<I)?K:B;J++}for(var E in G){var C=(G[E]==K)?0:1,H="bombs_comms_"+E,F="bombs_players_"+E;$("bombs_list").add("li",null,[add("div",{"class":"m5"},[add("select",{id:F}).$("change",function(O){var N=O.target||O.srcElement;if(selOption(N)=="add"){var M=$(N.id+"_inp");$(N).hide();M.show();try{M.focus()}catch(L){}}}),add("input",{type:"text",size:"30",id:F+"_inp"}).hide().$(suilib.client.opera?"keypress":"keyup",function(M){var L=M.target||M.srcElement;if(M.keyCode==27&&L.previousSibling&&L.previousSibling.options.length!=0){$(L.previousSibling).show();$(L).hide()}})]),add("div",{"class":"m10",innerHTML:"из команды&nbsp;&nbsp;"},[add("select",{id:H}).$("change",function(P){var L=(P.target||P.srcElement).id;var N="bombs_players_"+L.substr(L.length-1),M=$("bombs_penalty_"+L.substr(L.length-1)),O=$("bombs_auto_"+L.substr(L.length-1));while($(N).options.length){$(N).remove($(N).options.length-1)}insertBombs(N,selOption(L));if(O.style.display=="none"){O.show();if(M.checked){M.checked=false}setDisabled(M,true)}else{O.hide();setDisabled(M,false)}})]),$isResults?add("div",{"class":"m10",innerHTML:"на&nbsp;&nbsp;"},[add("input",{type:"text",size:"2",id:"bombs_time_"+E}),add("span",{innerHTML:"&nbsp;&nbsp;минуте"})]):null,add("div",{"class":"m5"},[add("input",{type:"checkbox","class":"chk",id:"bombs_penalty_"+E}),add("label",{"for":"bombs_penalty_"+E,innerHTML:"с пенальти"}),add("span",{id:"bombs_auto_"+E},[add("input",{type:"checkbox",disabled:"disabled",checked:"checked","class":"chk",style:"margin-left:15px"}),add("label",{"class":"red",innerHTML:"в свои ворота"})]).hide()])]);addOption(H,[{value:K,innerHTML:K+"&nbsp;&nbsp;"},{value:B,innerHTML:B+"&nbsp;&nbsp;"}]);$(H).options[C].selected=$(H).options[C].defaultSelected=true;insertBombs(F,G[E])}}function insertBombs(B,C){var G=getComData(C);var A=G?G[5]:{},H=[],I=false;$(B).show();$(B+"_inp").hide();for(var E in A){if(typeof A[E][1]=="string"){continue}H.push(E)}$($autogoals).walkwith(function(J){if(J[2]==C.toString()){I=true;H.push(J[0])}});if(I){var F={};for(var D=0;D<H.length;D++){if(F[H[D]]==null){F[H[D]]=D}else{H.splice(D,1);D--}}H.sort()}$(H).walkwith(function(J){addOption(B,[{value:J,innerHTML:J}])});if(H.length!=0){addOption(B,[{value:"add","class":"shl",innerHTML:"Новый игрок&nbsp;&nbsp;"}])}if(H.length==0){$(B).hide();$(B+"_inp").show()}}var tabs={init:function(D){if(!D.apply){return false}var G=D.apply.length?$(suilib.body).filter("*",null,null,true):[];var A=G.length;for(var F=0,B=D.apply.length;F<B;F++){this.all[F]={};if(!D.apply[F].els&&!D.apply[F].hds){continue}if(typeof D.apply[F].els=="string"){var E=[];for(var C=0;C<A;C++){if(G[C]&&G[C].className&&G[C].className.split(" ").hasa(D.apply[F].els)!==false){E.push(G[C])}}this.all[F].els=E}else{if(typeof D.apply[F].els=="object"&&D.apply[F].els.length){this.all[F].els=D.apply[F].els}}if(D.apply[F].hds){if(typeof D.apply[F].hds=="string"){var E=[];for(var C=0;C<A;C++){if(G[C]&&G[C].className&&G[C].className.split(" ").hasa(D.apply[F].hds)!==false){E.push(G[C])}}this.all[F].hds=E}else{if(typeof D.apply[F].hds=="object"&&D.apply[F].hds.length){this.all[F].hds=D.apply[F].hds}}}if(D.apply[F].open){var H=this.all[F].els?this.all[F].els:this.all[F].hds;if(typeof D.apply[F].open=="string"){this.all[F].open=$(D.apply[F].open)}else{if(typeof D.apply[F].open=="number"&&D.apply[F].open<=H.length){this.all[F].open=$(H[D.apply[F].open-1])}}}this.all[F].callback=D.apply[F].callback||suilib.anonymous;this.buildTabs(this.all[F])}},all:[],cls:["tab","tab_act","tab_hover"],buildTabs:function(D){var I=[],H=D.els?D.els.length:D.hds.length;for(var F=0;F<H;F++){var B=D.els?$(D.els[F]):null,G=false;if(D.hds){G=$(D.hds[F])}else{G=B.filter("*",null,null,true)[0];B.parentNode.insertBefore(G,$(D.els[0]));I.push(G)}if(D.open&&B==D.open){D.open=G}if(B){B.hide()}}if(!D.hds){D.hds=I}var C=[],J=[],A=[];for(var F=0,E=D.hds.length;F<E;F++){C[F]=(function(){tabs.openTab(D,arguments.callee.obj)});J[F]=(function(){var K=arguments.callee.obj,L=(K.className.split(" ")||[]);if(L.hasa(tabs.cls[1])===false){K.classReplace("tab_hover",tabs.cls)}});A[F]=(function(){var K=arguments.callee.obj,L=(K.className.split(" ")||[]);if(L.hasa(tabs.cls[1])===false){K.classReplace("tab",tabs.cls)}});C[F].obj=J[F].obj=A[F].obj=D.hds[F];C[F].$("click",D.hds[F]);J[F].$("mouseover",D.hds[F]);A[F].$("mouseout",D.hds[F])}this.openTab(D,D.open?D.open:D.hds[0])},openTab:function(A,D){var C=0,H=A.hds;for(var E=0,B=H.length;E<B;E++){var G=(H[E].className.split(" ")||[]);if(H[E]==D){if(G.hasa(tabs.cls[1])!==false){return false}H[E].classReplace("tab_act",this.cls);C=E}else{if(G.hasa(tabs.cls[0])!==false){continue}H[E].classReplace("tab",this.cls);if(A.els){$(A.els[E]).hide()}}}var F=A.els?A.els[C]:null;if(A.callback){A.callback(H[C],F,C+1)}if(F){$(A.els[C]).show()}}};var objTools={print:function(A){if(!A||typeof (A)!=="object"){return null}return"var data = "+this.parse(A)+";"},$specialChars:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},$replaceChars:function(A){return this.$specialChars[A]||"\\u00"+Math.floor(A.charCodeAt()/16).toString(16)+(A.charCodeAt()%16).toString(16)},parse:function(F){var B=this;switch(typeof (F)){case"string":return"'"+F.replace(/[\x00-\x1f\\"]/g,function(G){return B.$replaceChars.apply(B,[G])})+"'";case"number":return isFinite(F)?String(F):"null";case"object":if(F===null){return String(F)}var C=[];if("length" in F){for(var E=0,A=F.length;E<A;E++){if(typeof F[E]=="undefined"){continue}C.push(this.parse(F[E]))}return"["+String(C)+"]";break}for(var E in F){var D=this.parse(F[E]);if(D){C.push(this.parse(E)+":"+D)}}return"{"+C+"}";default:return String(F)}return null},length:function(C){if(!C||typeof (C)!=="object"){return null}var A=false;for(var B in C){A++}return A},clone:function(C){if(!C||typeof (C)!=="object"){return C}var B=C.constructor();for(var A in C){B[A]=this.clone(C[A])}return B},hash:function(D){if(!D||!(D instanceof Array)){return D}if(D.length==0){return{}}var C={};for(var B=0,A=D.length;B<A;B++){C[B]=D[B]}return C},key:function(B){if(!B||typeof (B)!=="object"){return null}for(var A in B){break}return A},lastKey:function(B){if(!B||typeof (B)!=="object"){return null}for(var A in B){}return A},extend:function(C,B){if(!C||typeof (C)!=="object"){return null}for(var A in B){C[A]=B[A]}return C}};function inputHandler(H){var B=H.target||H.srcElement||$(H),A=!!(B.tagName==="SELECT"),C=$("match_add");var D=selOption(A?B:"com_home"),L=selOption(A?(B.id=="com_home"?"com_guest":"com_home"):"com_guest");var G=parseInt($("count_home").value,10),K=parseInt($("count_guest").value,10),I=parseInt($("count_home_ps").value,10),F=parseInt($("count_guest_ps").value,10);if(A&&D!="add"&&D==L){if(!C.disabled){C.disabled=true;$("bombs_input").empty(true,true)}B[0].selected=B[0].defaultSelected=true;return false}if(A&&D=="add"){var J=$(B.id+"_inp");$(B).hide();J.show();J.value="";try{J.focus()}catch(E){}}C.disabled=true;$("bombs_input").empty(true,true);if(D=="null"||L=="null"||isNaN(G)||isNaN(K)||G<0||K<0){return false}if($isResults&&$("extra_ps").checked&&(G!=K||isNaN(I)||isNaN(F)||I<0||F<0||I==F)){return false}if(selOption("com_home")=="add"&&($("com_home_inp").style.display=="none"||$("com_home_inp").value=="")){return false}if(selOption("com_guest")=="add"&&($("com_guest_inp").style.display=="none"||$("com_guest_inp").value=="")){return false}C.disabled=false;createBombsList()}function extraHandler(H){var J=H.target||H.srcElement||$(H),F=J.checked,A="com_home",B="com_guest",K="extra_save",G="extra_group_div",M="extra_ps",L="extra_ps_span",I="extra_ps_div",C=(selOption("extra_group")=="add"&&$("extra_group_inp").style.display!="none")||(selOption("extra_group")!="add"&&matchType(selOption("extra_group")));setDisabled(K,F&&C?false:true);$(K).checked=F&&C?false:true;setDisabled(M,C?false:true);$(M).checked=false;if(!C){$(I).hide()}$("input_tour").disabled=F?true:false;var D=function(P){if(!document.getElementById(A)){return false}var Q="Новая команда",O=$(A)[$(A).options.length-1].html().replace(/\&nbsp;|\s+$/g,"");if(P&&O!=Q){var N=[{value:"add","class":"shl",innerHTML:Q+"&nbsp;&nbsp;"}];addOption(A,N);addOption(B,N)}else{if(!P&&O==Q){$(A).remove($(A).options.length-1);$(B).remove($(B).options.length-1)}}};var E=function(T){if(!$("group_div").firstChild){return false}if(T){$("group").disabled=true;var P={},R={},S=[];for(var Q in data[$key]){if(Q!="service"&&Q!="extra"){P=objTools.extend(P,data[$key][Q])}}for(var Q in P){S.push(Q)}S.sort();for(var Q=0,N=S.length;Q<N;Q++){R[S[Q]]=P[S[Q]]}createComsSelectors(R,true);inputHandler("com_home")}else{$("group").disabled=false;var O=selOption("group",true);createComsSelectors(data[$key][O.replace(/\&nbsp;|\s+$/g,"")],false,true);inputHandler("com_home")}};D(C);if(F){E(C);if($(L).style.display!="none"){return null}$(G).animate(0.35,{height:[0,35]},function(){D(C);$(L).show()})}else{if($(L).style.display=="none"){return null}$(G).animate(0.35,{height:[35,0]},function(){E(false);D(false);$(L).hide();$(I).hide();var N=function(O){$(O).show();$(O+"_inp").hide()};N(A);N(B);inputHandler(A)})}}suilib.ready(function(){pagePrepare();(function(E){var D=$("menu"),B=$("content"),C=$("all"),A=E.target||E.srcElement;if(A.className=="toggler"){D.animate(0.5,{width:[315,5]},function(){C.hide();D.style.paddingLeft=0;B.style.marginLeft="5px";A.classAdd("open")})}else{D.animate(0.5,{width:[5,315]},function(){C.show();D.style.paddingLeft="15px";B.style.marginLeft="330px";A.classRemove("open")})}}).$("click","toggler");(function(A){A.returnValue=false;if(A.preventDefault){A.preventDefault()}window.print()}).$("click","r_print","t_print");(function(){if(objTools.length(data)){pagePrepare()}else{alert("Запуск невозможен: не создан ни один турнир!")}}).$("click","sys_load");(function(){var A=objTools.length(data);if(A){if(confirm("Создано: "+A+" турнир(ов). Вы действительно хотите сбросить их?")){data={};alert("Все данные удалены: можно начинать сначала!")}}else{alert("Действие невозможно: данные не созданы или уже были удалены!")}}).$("click","data_reset");(function(G){var C=$("trn_name").value,E=G.target||G.srcElement;var A=$("groups").filter("div","commands_container",null,true);var B=function(K){var M=[],L={};$(A)[K].filter("input",null,{type:"text"},true).walkwith(function(N){var O=N.value;if(O){M.push(O)}});if(M.length<2){alert("Для сохранения необходимо назвать все команды!");delete data[C];return false}for(var J=0,I=M.length;J<I;J++){L[M[J]]=[0,0,0,0,0,{},{}];if($("champ_"+K+"_"+J).checked){if(!L[M[J]][7]){L[M[J]][7]=[]}L[M[J]][7].push("champ")}if($("cup_"+K+"_"+J).checked){if(!L[M[J]][7]){L[M[J]][7]=[]}L[M[J]][7].push("cup")}if($("new_"+K+"_"+J).checked){if(!L[M[J]][7]){L[M[J]][7]=[]}L[M[J]][7].push("new")}}return L};var H=E.value;E.value="Сохраняем...";setTimeout(function(){E.value=H},500);if(!C){alert("Для сохранения необходимо дать название турниру!");return false}data[C]={};if(A.length==1){var F=B(0);if(!F){return false}data[C]=F}else{for(var D=0;D<A.length;D++){if(!$("group_"+D).value){alert("Для сохранения необходимо назвать все группы!");delete data[C];return false}var F=B(D);if(!F){return false}data[C]["Группа "+$("group_"+D).value]=F}}data[C].service={};data[C].service.edited=currentTime();data[C].service.results=$("trn_results").checked;$("zones").filter("input",null,{type:"checkbox"},true).walkwith(function(K){if(K.checked){var J=K.id.split("_"),I=$(J[0]+"_text").value!=$alias[J[0]];if(!data[C].service[J[0]]){data[C].service[J[0]]=[];if(I){data[C].service[J[0]].push($(J[0]+"_text").value)}}data[C].service[J[0]].push(parseInt(J[1],10))}})}).$("click","trn_save");(function(){$("trn").reset();$("groups").empty(true,true)}).$("click","trn_reset");(function(E){var B=parseInt($("groups_num").value,10),F=parseInt($("commands_num_0").value,10);$("groups").empty(true,true);if(isNaN(B)||B<1||isNaN(F)||F<2){return false}var D=function(J){var H=J.target||J.srcElement,G=H.id.split("_"),I=["lch","le","out"];$(I).walkwith(function(L){if(L!=G[0]){var K=$(L+"_"+G[1]);K.checked=false;setDisabled(K,H.checked)}})};var A=function(L){var M=L.target||L.srcElement||$(L);var N=parseInt(M.value,10),G=parseInt(M.id.substr(M.id.length-1),10);G=G==0?0:G-1;var J=$("commands_"+G),P=J.filter("div","block",null,true);J.empty(true,true);if(isNaN(N)||N<2){N=P.length}var O=[];$("groups").filter("input","commands_nums",null,true).walkwith(function(Q){O.push(Q.value)});var H=function(Q){return[add("img",{align:"top",alt:$alias[Q][0],title:$alias[Q][0],style:"padding-right:10px",src:$alias[Q][1]})]};$("lch").empty(true,true);$("le").empty(true,true);$("out").empty(true,true);for(var K=0;K<N;K++){J.add("div",{"class":"block"},[add("div",{"class":"left",style:"width:10px",innerHTML:K+1+". "}),add("div",{"class":"nofloat"},[add("div",{"class":"m5"},[add("input",{type:"text",size:"24"})]),add("div",null,[add("input",{type:"checkbox","class":"chk",id:"champ_"+G+"_"+K}),add("label",{"for":"champ_"+G+"_"+K},H("champ")),add("input",{type:"checkbox","class":"chk",id:"cup_"+G+"_"+K}),add("label",{"for":"cup_"+G+"_"+K},H("cup")),add("input",{type:"checkbox","class":"chk",id:"new_"+G+"_"+K}),add("label",{"for":"new_"+G+"_"+K},H("new"))])])])}for(var K=0,I=O.length==0?N:getMax(O);K<I;K++){$("lch").add("input",{type:"checkbox","class":"chk",id:"lch_"+(K+1)}).$("click",D);$("lch").add("label",{"for":"lch_"+(K+1),style:"padding-right:10px"},[addtext(K+1)]);$("le").add("input",{type:"checkbox","class":"chk",id:"le_"+(K+1)}).$("click",D);$("le").add("label",{"for":"le_"+(K+1),style:"padding-right:10px"},[addtext(K+1)]);$("out").add("input",{type:"checkbox","class":"chk",id:"out_"+(K+1)}).$("click",D);$("out").add("label",{"for":"out_"+(K+1),style:"padding-right:10px"},[addtext(K+1)])}};$("groups").add("h3",{innerHTML:"Структура турнира"});$("groups").add("div",{id:"zones","class":"m20"},[add("div",{"class":"m5"},[add("input",{type:"text",size:"30",value:$alias.lch,id:"lch_text"}),add("span",{style:"padding-left:15px",id:"lch"})]),add("div",{"class":"m5"},[add("input",{type:"text",size:"30",value:$alias.le,id:"le_text"}),add("span",{style:"padding-left:15px",id:"le"})]),add("div",{"class":"m5"},[add("input",{type:"text",size:"30",value:$alias.out,id:"out_text"}),add("span",{style:"padding-left:15px",id:"out"})])]);$("groups").add("div",{"class":"hr m20",style:"clear:both",innerHTML:"&nbsp;"});for(var C=0;C<B;C++){$("groups").add("div",{"class":"nofloat m20"},[B!=1?add("div",{"class":"m10"},[add("b",{innerHTML:"Группа:"}),add("input",{type:"text",size:"2",style:"margin-left:7px",id:"group_"+C}),add("span",{innerHTML:"&nbsp;&nbsp;c&nbsp;&nbsp;"}),add("input",{type:"text",size:"2",value:F,"class":"commands_nums",id:"commands_num_"+(C+1)}).$("keyup",A),add("span",{innerHTML:"&nbsp;&nbsp;командами"}),]):null,add("div",{id:"commands_"+C,"class":"commands_container"})]);A(B!=1?"commands_num_"+(C+1):"commands_num_0");if(C!=B-1){$("groups").add("div",{"class":"hr m20",style:"clear:both",innerHTML:"&nbsp;"})}}}).$("click","groups_add");(function(C){var A=parseInt((C.target||C.srcElement).value),B=parseInt(selOption("b_sorts"));createBombers(A,B)}).$("change","b_types");(function(C){var A=parseInt(selOption("b_types")),B=parseInt((C.target||C.srcElement).value);createBombers(A,B)}).$("change","b_sorts");inputHandler.$("keyup","count_home","count_guest","count_home_ps","count_guest_ps");if(objTools.length(data)){inputHandler.$("change","com_home","com_guest")}(function(D){var A=D.target||D.srcElement,C=$("extra_ps_div");if(A.checked){C.show();try{$("count_home_ps").focus()}catch(B){}}else{C.hide()}inputHandler("count_home_ps")}).$("click","extra_ps");(function(D){var C=D.target||D.srcElement,B=(C.id=="extra_group_inp");if(D.keyCode==27){var A=B?C.previousSibling:C.previousSibling.firstChild;$(A).show();$(C).hide();if(B){extraHandler("extra")}}if(!B){inputHandler(D)}}).$(suilib.client.opera?"keypress":"keyup","com_home_inp","com_guest_inp","extra_group_inp");extraHandler.$("click","extra");(function(j){var a=parseInt($("count_home").value,10),D=parseInt($("count_guest").value,10),c=selOption("com_home")=="add"?$("com_home_inp").value:selOption("com_home"),E=selOption("com_guest")=="add"?$("com_guest_inp").value:selOption("com_guest");if($isResults){var G=selOption("input_tour"),S={},W={},o=$("extra").checked,k=$("extra_save").checked,n=$("extra_ps").checked,B=selOption("extra_group")=="add"?$("extra_group_inp").value:selOption("extra_group"),F=parseInt($("count_home_ps").value,10),J=parseInt($("count_guest_ps").value,10)}var L=function(e){return getComData(e)};if(parseInt(G,10)>$total[0]){alert("Такого тура для выбранной группы не существует!");return false}if(o&&(B=="add"||B=="")){alert("Необходимо ввести названия стадии!");return false}if(!o&&((L(c)[0]+L(c)[1]+L(c)[2])>=$total[0]||(L(E)[0]+L(E)[1]+L(E)[2])>=$total[0])){alert("Все матчи одной или обеих команд уже были сыграны!");return false}if(!o&&L(c)[6][G]){alert("Извините, но этот матч уже был сыгран: вы можете исправить результат, включив в блоке ввода дополнительный матч!");return false}var I=(a+D==0)?false:true,K=false,M=$("bombs_input").filter("li",null,null,true),h=[],P=[],Z=[],R=[],A=[];if(I){$(M).walkwith(function(i){var l=$(i).filter("div",null,null,true);var e=(l[0].firstChild.style.display=="none")?l[0].firstChild.nextSibling.value:selOption(l[0].firstChild),p=$isResults?$(l[2]).filter("input",null,null,true)[0].value:"1";if(e==""||e=="add"||p==""||isNaN(parseInt(p,10))||parseInt(p,10)<=0){K=true}h.push(e);P.push(p);Z.push(l[$isResults?3:2].firstChild.checked);R.push($(l[$isResults?3:2]).filter("span",null,null,true)[0].style.display=="none"?false:true);A.push(selOption($(l[1]).filter("select",null,null,true)[0]))});if(K){alert("Необходимо корректно заполнить все поля в блоке ввода бомбардиров!");return false}}if(o&&!matchType(B)){if(!L(c)[6][B]){alert("Матч, который Вы хотите изменить, не был сыгран: пожалуйста, воспользуйтесь обычным способом добавления!");return false}var g=L(c)[6][B].split("|"),U=getCount(g[1],g[2]);if(U[0]>U[1]){L(c)[0]--;L(E)[2]--}else{if(U[0]==U[1]){L(c)[1]--;L(E)[1]--}else{L(E)[0]--;L(c)[2]--}}L(c)[3]-=U[0];L(c)[4]-=U[1];L(E)[3]-=U[1];L(E)[4]-=U[0];var Q=function(u,q){if(!u){return false}var v=u.split(",");for(var s=0,e=v.length;s<e;s++){var t=v[s].split("^");if(!L(q)[5][t[0]]){continue}for(var r=1,p=t.length;r<p;r++){L(q)[5][t[0]][0]--;if(t[r].find("%")){L(q)[5][t[0]][1]--}}if(L(q)[5][t[0]][0]==0){delete L(q)[5][t[0]]}}};Q(g[1],c);Q(g[2],E);L(c)[6][B]=""}if(!o||(o&&!matchType(B))){if(a>D){L(c)[0]++;L(E)[2]++}else{if(a==D){L(c)[1]++;L(E)[1]++}else{L(E)[0]++;L(c)[2]++}}L(c)[3]+=a;L(c)[4]+=D;L(E)[3]+=D;L(E)[4]+=a}if(I){for(var f=0,d=M.length;f<d;f++){var X=R[f]?(A[f]==c?E:c):A[f];if(L(X)&&(!o||(o&&k))){if(!L(X)[5][h[f]]){L(X)[5][h[f]]=[0,0]}L(X)[5][h[f]][0]++;if(Z[f]){L(X)[5][h[f]][1]++}if(R[f]){L(X)[5][h[f]][1]=A[f]}}if($isResults){var b=X==c?S:W;if(!b[h[f]]){b[h[f]]=""}b[h[f]]+="^"+P[f]+(Z[f]?"%":"")+(R[f]?"@":"")}}}if($isResults){var C=[],V=[];for(var f in S){C.push(f+S[f])}for(var f in W){V.push(f+W[f])}var T=E+(C.length?("|"+C.join(",")):((V.length||n)?"|":""))+(V.length?("|"+V.join(",")):(n?"|":""))+(n?("|"+F+":"+J):""),m=false;if(o&&matchType(B)){var O=[];for(var f in $extra_names){O.push(parseInt(f,10))}var Y=getMin(O),N=getMax(O);m=$total[1]?((isFinite(Y)&&Y<0)?(Y-1):-1):((isFinite(N)&&N>$total[0])?(N+1):$total[0]+1);var H=$extra_names[B]?B+"|"+$extra_names[B]:m+"|"+B;if(!data[$key].extra){data[$key].extra={}}if(!data[$key].extra[H]){data[$key].extra[H]=[]}data[$key].extra[H].push(c+"|"+T)}else{m=o&&!matchType(B)?B:G;L(c)[6][m]=T}$url.tour=m}data[$key].service.edited=currentTime();loadData()}).$("click","match_add");(function(D){var F=suilib.client.msie,E=suilib.screensizes(),B=function(){$("data").select()},C=function(){document.location.reload(true)},A=function(G){if((G.type=="keypress"&&G.keyCode==27)||G.type=="click"){$("popup").hide();$("saver").hide()}};if(!document.getElementById("saver")){$(suilib.body).add("div",{id:"saver",style:"position:"+(F?"absolute":"fixed")+";top:0;left:0;z-index:9998;background:#000000;width:"+(F?E[2]+"px":"100%")+";height:"+(F?E[3]+"px":"100%")})}else{$("saver").show()}if(!F){$("saver").setstyle("opacity:0")}$("saver").setstyle("opacity:20");$("popup").setstyle("top:"+Math.ceil(E[1]/2-170)+"px;left:"+Math.ceil(E[0]/2-350)+"px");$("popup").show(0.4,"fade");$("data").value=objTools.print(data);setTimeout(B,600);B.$$("click","data");C.$$("click","data_refresh");A.$$("click","data_close","saver").$("keypress",document);B.$("click","data");C.$("click","data_refresh");A.$("click","data_close","saver").$("keypress",document)}).$("click","data_save")});


/* Все данные (начало вставки) */
var data = {};
/* Все данные (конец вставки) */
//]]>
</script>

</body>
</html>